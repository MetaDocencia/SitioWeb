{{- $b := or (index . "block") . -}}
{{- $c := or (index $b "content") $b -}}
{{- $title := index $c "title" -}}
{{- $text  := or (index $c "text") (index $c "body") (index $c "markdown") -}}
{{- $img   := index $c "image" -}}
{{- $btn   := index $c "button" -}}
{{- $btns  := index $c "buttons" | default (slice) -}}
{{- $btnLabel := or (index $btn "label") (index $btn "text") -}}

<section class="section" id="{{ index $b "id" | default "" }}">
  <div class="container">
    <div class="border rounded p-4 p-md-5">
      <div class="row g-4 align-items-center">
        {{ if $img }}
          <div class="col-md-4">
            <img class="img-fluid" src="{{ (printf "/media/%s" $img) | relURL }}" alt="">
          </div>
        {{ end }}
        <div class="{{ if $img }}col-md-8{{ else }}col-12{{ end }}">
          <h2 class="mb-2">{{ $title | default "Call to action" }}</h2>
          <p class="lead mb-3">{{ $text | default "Texto pendiente" | markdownify }}</p>
          <div class="d-flex flex-wrap gap-2">
            {{ with $btn }}
              <a class="btn btn-primary" href="{{ index . "url" }}">{{ $btnLabel | default "Conocer m√°s" }}</a>
            {{ end }}
            {{ range $x := $btns }}
              {{- $lbl := or (index $x "label") (index $x "text") -}}
              <a class="btn btn-outline-primary" href="{{ index $x "url" }}">{{ $lbl }}</a>
            {{ end }}
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
